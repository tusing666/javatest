<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<title>Home</title>
<!-- Compiled and minified CSS -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

</head>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<!-- Compiled and minified JavaScript -->
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
		
		
<div class="container">
	<!-- <h1 th:text="'Hello ' + ${name}">Home Page</h1> -->
	<h1 th:text="${'Hello ' + name}">Home Page</h1>
	</div>

<div class="container teal lighten-2">
	<div class="row">
		<div class="col s12">
			<div class="row">
				<div class="input-field col s12">
					<!-- <i class="material-icons prefix">textsms</i>  -->
					<input type="text"
						id="autocomplete-input" class="autocomplete"> 
						<label for="autocomplete-input">Autocomplete</label>
				</div>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript">

$(document).ready(function(){
	// Ajax
	$(function() {
    $.ajax({
      type: 'GET',
      url: 'http://localhost:8080/all',		//'https://restcountries.eu/rest/v2/all?fields=name',
      success: function(response) {
        var countryArray = response;
        var dataCountry = {};
        console.log(dataCountry);
        for (var i = 0; i < countryArray.length; i++) {
          //console.log(countryArray[i].name);
          dataCountry[countryArray[i].name] = countryArray[i].id; //countryArray[i].flag or null
        }
        console.log(dataCountry);
        
        
	//Autocomplete
    $('input.autocomplete').autocomplete({
      data: dataCountry,
    });
      }
    });
  });
});

</script>


</body>
</html>